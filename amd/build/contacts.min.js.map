{"version":3,"file":"contacts.min.js","sources":["../src/contacts.js"],"sourcesContent":["define(['jquery', 'core/str', 'core/modal_factory', 'core/modal_events', 'core/fragment', 'core/templates'],\n    function($, Str, Modal, ModalEvents, Fragment, Templates) {\n\n        return {\n            init: function(contextID) {\n                var groupModal = document.getElementsByClassName('contact-widget-viewgroup');\n                Array.from(groupModal).forEach(function(element) {\n                    element.addEventListener('click', function(e) {\n                        e.preventDefault();\n                        var target = e.target.closest('a');\n                        contactUser = target.getAttribute('data-userid');\n                        Modal.create({\n                            title: Str.get_string('groups', 'core')\n                        }).then(function(modal) {\n                            modal.show();\n                            modal.getRoot().on(ModalEvents.shown, function() {\n                                var args = JSON.stringify({contactuser: contactUser});\n                                var params = {widget: 'contacts', method: 'load_groups', args: args };\n                                var form = Fragment.loadFragment('block_dash', 'loadwidget', contextID, params).then((html, js) => {\n                                    modal.setBody(html);\n                                    Templates.runTemplateJS(js);\n                                });\n                            })\n                            modal.getRoot().on(ModalEvents.hidden, function() {\n                                modal.destroy();\n                            });\n                        })\n                    });\n                })\n            }\n        }\n})"],"names":["define","$","Str","Modal","ModalEvents","Fragment","Templates","init","contextID","groupModal","document","getElementsByClassName","Array","from","forEach","element","addEventListener","e","preventDefault","target","closest","contactUser","getAttribute","create","title","get_string","then","modal","show","getRoot","on","shown","params","widget","method","args","JSON","stringify","contactuser","loadFragment","html","js","setBody","runTemplateJS","hidden","destroy"],"mappings":"AAAAA,6BAAO,CAAC,SAAU,WAAY,qBAAsB,oBAAqB,gBAAiB,mBACtF,SAASC,EAAGC,IAAKC,MAAOC,YAAaC,SAAUC,iBAEpC,CACHC,KAAM,SAASC,eACPC,WAAaC,SAASC,uBAAuB,4BACjDC,MAAMC,KAAKJ,YAAYK,SAAQ,SAASC,SACpCA,QAAQC,iBAAiB,SAAS,SAASC,GACvCA,EAAEC,qBACEC,OAASF,EAAEE,OAAOC,QAAQ,KAC9BC,YAAcF,OAAOG,aAAa,eAClCnB,MAAMoB,OAAO,CACTC,MAAOtB,IAAIuB,WAAW,SAAU,UACjCC,MAAK,SAASC,OACbA,MAAMC,OACND,MAAME,UAAUC,GAAG1B,YAAY2B,OAAO,eAE9BC,OAAS,CAACC,OAAQ,WAAYC,OAAQ,cAAeC,KAD9CC,KAAKC,UAAU,CAACC,YAAajB,eAE7BhB,SAASkC,aAAa,aAAc,aAAc/B,UAAWwB,QAAQN,MAAK,SAACc,KAAMC,IACxFd,MAAMe,QAAQF,MACdlC,UAAUqC,cAAcF,UAGhCd,MAAME,UAAUC,GAAG1B,YAAYwC,QAAQ,WACnCjB,MAAMkB"}