function _typeof(e){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(e){return typeof e}}else{_typeof=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(e)}(function(e){if("function"==typeof define&&define.amd){define ("block_dash/datepicker",["jquery"],e)}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){e(require("jquery"))}else{e(jQuery)}})(function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var t=new Date;return e(t.getFullYear(),t.getMonth(),t.getDate())}function o(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function s(e,a){return function(){if(a!==void 0){t.fn.datepicker2.deprecated(a)}return this[e].apply(this,arguments)}}function n(e){return e&&!isNaN(e.getTime())}var r=function(){var e={get:function get(e){return this.slice(e)[0]},contains:function contains(e){for(var t=e&&e.valueOf(),a=0,o=this.length;a<o;a++){if(0<=this[a].valueOf()-t&&this[a].valueOf()-t<86400000)return a}return-1},remove:function remove(e){this.splice(e,1)},replace:function replace(e){if(!e)return;if(!t.isArray(e))e=[e];this.clear();this.push.apply(this,e)},clear:function clear(){this.length=0},copy:function copy(){var e=new r;e.replace(this);return e}};return function(){var o=[];o.push.apply(o,arguments);t.extend(o,e);return o}}(),p=function(e,a){t.data(e,"datepicker2",this);this._events=[];this._secondaryEvents=[];this._process_options(a);this.dates=new r;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=t(e);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"):!1;if(this.component&&0===this.component.length)this.component=!1;this.isInline=!this.component&&this.element.is("div");this.picker=t(y.template);if(this._check_template(this.o.templates.leftArrow)){this.picker.find(".prev").html(this.o.templates.leftArrow)}if(this._check_template(this.o.templates.rightArrow)){this.picker.find(".next").html(this.o.templates.rightArrow)}this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker2-inline").appendTo(this.element)}else{this.picker.addClass("datepicker2-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker2-rtl")}if(this.o.calendarWeeks){this.picker.find(".datepicker2-days .datepicker2-switch, thead .datepicker2-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return+t+1})}this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled});this._allow_update=!1;this.setViewMode(this.o.startView);this._allow_update=!0;this.fillDow();this.fillMonths();this.update();if(this.isInline){this.show()}};p.prototype={constructor:p,_resolveViewName:function _resolveViewName(e){t.each(y.viewModes,function(a,o){if(e===a||-1!==t.inArray(e,o.names)){e=a;return!1}});return e},_resolveDaysOfWeek:function _resolveDaysOfWeek(e){if(!t.isArray(e))e=e.split(/[,\s]*/);return t.map(e,Number)},_check_template:function _check_template(e){try{if(e===void 0||""===e){return!1}if(0>=(e.match(/[<>]/g)||[]).length){return!0}var a=t(e);return 0<a.length}catch(e){return!1}},_process_options:function _process_options(s){this._o=t.extend({},this._o,s);var i=this.o=t.extend({},this._o),o=i.language;if(!D[o]){o=o.split("-")[0];if(!D[o])o=h.language}i.language=o;i.startView=this._resolveViewName(i.startView);i.minViewMode=this._resolveViewName(i.minViewMode);i.maxViewMode=this._resolveViewName(i.maxViewMode);i.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,i.startView));if(!0!==i.multidate){i.multidate=+i.multidate||!1;if(!1!==i.multidate)i.multidate=Math.max(0,i.multidate)}i.multidateSeparator=i.multidateSeparator+"";i.weekStart%=7;i.weekEnd=(i.weekStart+6)%7;var n=y.parseFormat(i.format);if(i.startDate!==-Infinity){if(!!i.startDate){if(i.startDate instanceof Date)i.startDate=this._local_to_utc(this._zero_time(i.startDate));else i.startDate=y.parseDate(i.startDate,n,i.language,i.assumeNearbyYear)}else{i.startDate=-Infinity}}if(i.endDate!==1/0){if(!!i.endDate){if(i.endDate instanceof Date)i.endDate=this._local_to_utc(this._zero_time(i.endDate));else i.endDate=y.parseDate(i.endDate,n,i.language,i.assumeNearbyYear)}else{i.endDate=1/0}}i.daysOfWeekDisabled=this._resolveDaysOfWeek(i.daysOfWeekDisabled||[]);i.daysOfWeekHighlighted=this._resolveDaysOfWeek(i.daysOfWeekHighlighted||[]);i.datesDisabled=i.datesDisabled||[];if(!t.isArray(i.datesDisabled)){i.datesDisabled=i.datesDisabled.split(",")}i.datesDisabled=t.map(i.datesDisabled,function(e){return y.parseDate(e,n,i.language,i.assumeNearbyYear)});var d=(i.orientation+"").toLowerCase().split(/\s+/g),l=i.orientation.toLowerCase();d=t.grep(d,function(e){return /^auto|left|right|top|bottom$/.test(e)});i.orientation={x:"auto",y:"auto"};if(!l||"auto"===l);else if(1===d.length){switch(d[0]){case"top":case"bottom":i.orientation.y=d[0];break;case"left":case"right":i.orientation.x=d[0];break;}}else{l=t.grep(d,function(e){return /^left|right$/.test(e)});i.orientation.x=l[0]||"auto";l=t.grep(d,function(e){return /^top|bottom$/.test(e)});i.orientation.y=l[0]||"auto"}if(i.defaultViewDate instanceof Date||"string"==typeof i.defaultViewDate){i.defaultViewDate=y.parseDate(i.defaultViewDate,n,i.language,i.assumeNearbyYear)}else if(i.defaultViewDate){var r=i.defaultViewDate.year||new Date().getFullYear(),p=i.defaultViewDate.month||0,c=i.defaultViewDate.day||1;i.defaultViewDate=e(r,p,c)}else{i.defaultViewDate=a()}},_applyEvents:function _applyEvents(e){for(var t=0,a,o,s;t<e.length;t++){a=e[t][0];if(2===e[t].length){o=void 0;s=e[t][1]}else if(3===e[t].length){o=e[t][1];s=e[t][2]}a.on(s,o)}},_unapplyEvents:function _unapplyEvents(e){for(var t=0,a,o,s;t<e.length;t++){a=e[t][0];if(2===e[t].length){s=void 0;o=e[t][1]}else if(3===e[t].length){s=e[t][1];o=e[t][2]}a.off(o,s)}},_buildEvents:function _buildEvents(){var e={keyup:t.proxy(function(a){if(-1===t.inArray(a.keyCode,[27,37,39,38,40,32,13,9]))this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};if(!0===this.o.showOnFocus){e.focus=t.proxy(this.show,this)}if(this.isInput){this._events=[[this.element,e]]}else if(this.component&&this.inputField.length){this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]}else{this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]]}this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]);if(this.o.immediateUpdates){this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}])}this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){if(!(this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline)){this.hide()}},this)}]]},_attachEvents:function _attachEvents(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function _detachEvents(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function _attachSecondaryEvents(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function _detachSecondaryEvents(){this._unapplyEvents(this._secondaryEvents)},_trigger:function _trigger(e,a){var o=a||this.dates.get(-1),s=this._utc_to_local(o);this.element.trigger({type:e,date:s,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(e,t){if(0===arguments.length){e=this.dates.length-1;t=this.o.format}else if("string"==typeof e){t=e;e=this.dates.length-1}t=t||this.o.format;var a=this.dates.get(e);return y.formatDate(a,t,this.o.language)},this)})},show:function show(){if(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly)return;if(!this.isInline)this.picker.appendTo(this.o.container);this.place();this.picker.show();this._attachSecondaryEvents();this._trigger("show");if((window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard){t(this.element).blur()}return this},hide:function hide(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.setViewMode(this.o.startView);if(this.o.forceParse&&this.inputField.val())this.setValue();this._trigger("hide");return this},destroy:function destroy(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker2;if(!this.isInput){delete this.element.data().date}return this},paste:function paste(a){var e;if(a.originalEvent.clipboardData&&a.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",a.originalEvent.clipboardData.types)){e=a.originalEvent.clipboardData.getData("text/plain")}else if(window.clipboardData){e=window.clipboardData.getData("Text")}else{return}this.setDate(e);this.update();a.preventDefault()},_utc_to_local:function _utc_to_local(e){if(!e){return e}var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());if(t.getTimezoneOffset()!==e.getTimezoneOffset()){t=new Date(e.getTime()+6e4*t.getTimezoneOffset())}return t},_local_to_utc:function _local_to_utc(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function _zero_time(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function _zero_utc_time(t){return t&&e(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function getDates(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function getUTCDates(){return t.map(this.dates,function(e){return new Date(e)})},getDate:function getDate(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function getUTCDate(){var e=this.dates.get(-1);if(e!==void 0){return new Date(e)}else{return null}},clearDates:function clearDates(){this.inputField.val("");this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide()}},setDates:function setDates(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e);this._trigger("changeDate");this.setValue();return this},setUTCDates:function setUTCDates(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.setDates.apply(this,t.map(e,this._utc_to_local));return this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function setValue(){var e=this.getFormattedDate();this.inputField.val(e);return this},getFormattedDate:function getFormattedDate(e){if(e===void 0)e=this.o.format;var a=this.o.language;return t.map(this.dates,function(t){return y.formatDate(t,e,a)}).join(this.o.multidateSeparator)},getStartDate:function getStartDate(){return this.o.startDate},setStartDate:function setStartDate(e){this._process_options({startDate:e});this.update();this.updateNavArrows();return this},getEndDate:function getEndDate(){return this.o.endDate},setEndDate:function setEndDate(e){this._process_options({endDate:e});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function setDaysOfWeekDisabled(e){this._process_options({daysOfWeekDisabled:e});this.update();return this},setDaysOfWeekHighlighted:function setDaysOfWeekHighlighted(e){this._process_options({daysOfWeekHighlighted:e});this.update();return this},setDatesDisabled:function setDatesDisabled(e){this._process_options({datesDisabled:e});this.update();return this},place:function place(){if(this.isInline)return this;var e=this.picker.outerWidth(),a=this.picker.outerHeight(),o=t(this.o.container),s=o.width(),i="body"===this.o.container?t(document).scrollTop():o.scrollTop(),n=o.offset(),d=[0];this.element.parents().each(function(){var e=t(this).css("z-index");if("auto"!==e&&0!==+e)d.push(+e)});var l=Math.max.apply(Math,d)+this.o.zIndexOffset,r=this.component?this.component.parent().offset():this.element.offset(),p=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),g=r.left-n.left,u=r.top-n.top;if("body"!==this.o.container){u+=i}this.picker.removeClass("datepicker2-orient-top datepicker2-orient-bottom datepicker2-orient-right datepicker2-orient-left");if("auto"!==this.o.orientation.x){this.picker.addClass("datepicker2-orient-"+this.o.orientation.x);if("right"===this.o.orientation.x)g-=e-c}else{if(0>r.left){this.picker.addClass("datepicker2-orient-left");g-=r.left-10}else if(g+e>s){this.picker.addClass("datepicker2-orient-right");g+=c-e}else{if(this.o.rtl){this.picker.addClass("datepicker2-orient-right")}else{this.picker.addClass("datepicker2-orient-left")}}}var h=this.o.orientation.y,m;if("auto"===h){m=-i+u-a;h=0>m?"bottom":"top"}this.picker.addClass("datepicker2-orient-"+h);if("top"===h)u-=a+parseInt(this.picker.css("padding-top"));else u+=p;if(this.o.rtl){var D=s-(g+c);this.picker.css({top:u,right:D,zIndex:l})}else{this.picker.css({top:u,left:g,zIndex:l})}return this},_allow_update:!0,update:function update(){if(!this._allow_update)return this;var e=this.dates.copy(),a=[],o=!1;if(arguments.length){t.each(arguments,t.proxy(function(e,t){if(t instanceof Date)t=this._local_to_utc(t);a.push(t)},this));o=!0}else{a=this.isInput?this.element.val():this.element.data("date")||this.inputField.val();if(a&&this.o.multidate)a=a.split(this.o.multidateSeparator);else a=[a];delete this.element.data().date}a=t.map(a,t.proxy(function(e){return y.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this));a=t.grep(a,t.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0);this.dates.replace(a);if(this.o.updateViewDate){if(this.dates.length)this.viewDate=new Date(this.dates.get(-1));else if(this.viewDate<this.o.startDate)this.viewDate=new Date(this.o.startDate);else if(this.viewDate>this.o.endDate)this.viewDate=new Date(this.o.endDate);else this.viewDate=this.o.defaultViewDate}if(o){this.setValue();this.element.change()}else if(this.dates.length){if(e+""!==this.dates+""&&o){this._trigger("changeDate");this.element.change()}}if(!this.dates.length&&e.length){this._trigger("clearDate");this.element.change()}this.fill();return this},fillDow:function fillDow(){if(this.o.showWeekDays){var e=this.o.weekStart,a="<tr>";if(this.o.calendarWeeks){a+="<th class=\"cw\">&#160;</th>"}while(e<this.o.weekStart+7){a+="<th class=\"dow";if(-1!==t.inArray(e,this.o.daysOfWeekDisabled))a+=" disabled";a+="\">"+D[this.o.language].daysMin[e++%7]+"</th>"}a+="</tr>";this.picker.find(".datepicker2-days thead").append(a)}},fillMonths:function fillMonths(){for(var e=this._utc_to_local(this.viewDate),t="",a,o=0;12>o;o++){a=e&&e.getMonth()===o?" focused":"";t+="<span class=\"month"+a+"\">"+D[this.o.language].monthsShort[o]+"</span>"}this.picker.find(".datepicker2-months td").html(t)},setRange:function setRange(e){if(!e||!e.length)delete this.range;else this.range=t.map(e,function(e){return e.valueOf()});this.fill()},getClassNames:function getClassNames(e){var s=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),d=a();if(e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<n){s.push("old")}else if(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>n){s.push("new")}if(this.focusDate&&e.valueOf()===this.focusDate.valueOf())s.push("focused");if(this.o.todayHighlight&&o(e,d)){s.push("today")}if(-1!==this.dates.contains(e))s.push("active");if(!this.dateWithinRange(e)){s.push("disabled")}if(this.dateIsDisabled(e)){s.push("disabled","disabled-date")}if(-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)){s.push("highlighted")}if(this.range){if(e>this.range[0]&&e<this.range[this.range.length-1]){s.push("range")}if(-1!==t.inArray(e.valueOf(),this.range)){s.push("selected")}if(e.valueOf()===this.range[0]){s.push("range-start")}if(e.valueOf()===this.range[this.range.length-1]){s.push("range-end")}}return s},_fill_yearsView:function _fill_yearsView(e,a,o,s,i,n,d){for(var l="",r=o/10,p=this.picker.find(e),c=Math.floor(s/o)*o,g=c+9*r,u=Math.floor(this.viewDate.getFullYear()/r)*r,h=t.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/r)*r}),m,D,y,f=c-r;f<=g+r;f+=r){m=[a];D=null;if(f===c-r){m.push("old")}else if(f===g+r){m.push("new")}if(-1!==t.inArray(f,h)){m.push("active")}if(f<i||f>n){m.push("disabled")}if(f===u){m.push("focused")}if(d!==t.noop){y=d(new Date(f,0,1));if(y===void 0){y={}}else if("boolean"==typeof y){y={enabled:y}}else if("string"==typeof y){y={classes:y}}if(!1===y.enabled){m.push("disabled")}if(y.classes){m=m.concat(y.classes.split(/\s+/))}if(y.tooltip){D=y.tooltip}}l+="<span class=\""+m.join(" ")+"\""+(D?" title=\""+D+"\"":"")+">"+f+"</span>"}p.find(".datepicker2-switch").text(c+"-"+g);p.find("td").html(l)},fill:function fill(){var o=new Date(this.viewDate),s=o.getUTCFullYear(),i=o.getUTCMonth(),n=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,d=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,p=D[this.o.language].today||D.en.today||"",c=D[this.o.language].clear||D.en.clear||"",g=D[this.o.language].titleFormat||D.en.titleFormat,u=a(),h=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&u>=this.o.startDate&&u<=this.o.endDate&&!this.weekOfDateIsDisabled(u),m,f;if(isNaN(s)||isNaN(i))return;this.picker.find(".datepicker2-days .datepicker2-switch").text(y.formatDate(o,g,this.o.language));this.picker.find("tfoot .today").text(p).css("display",h?"table-cell":"none");this.picker.find("tfoot .clear").text(c).css("display",!0===this.o.clearBtn?"table-cell":"none");this.picker.find("thead .datepicker2-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none");this.updateNavArrows();this.fillMonths();var v=e(s,i,0),w=v.getUTCDate();v.setUTCDate(w-(v.getUTCDay()-this.o.weekStart+7)%7);var k=new Date(v);if(100>v.getUTCFullYear()){k.setUTCFullYear(v.getUTCFullYear())}k.setUTCDate(k.getUTCDate()+42);k=k.valueOf();var _=[],C,b;while(v.valueOf()<k){C=v.getUTCDay();if(C===this.o.weekStart){_.push("<tr>");if(this.o.calendarWeeks){var T=new Date(+v+864e5*((this.o.weekStart-C-7)%7)),M=new Date(+T+864e5*((11-T.getUTCDay())%7)),U=new Date(+(U=e(M.getUTCFullYear(),0,1))+864e5*((11-U.getUTCDay())%7)),x=(M-U)/864e5/7+1;_.push("<td class=\"cw\">"+x+"</td>")}}b=this.getClassNames(v);b.push("day");var V=v.getUTCDate();if(this.o.beforeShowDay!==t.noop){f=this.o.beforeShowDay(this._utc_to_local(v));if(f===void 0)f={};else if("boolean"==typeof f)f={enabled:f};else if("string"==typeof f)f={classes:f};if(!1===f.enabled)b.push("disabled");if(f.classes)b=b.concat(f.classes.split(/\s+/));if(f.tooltip)m=f.tooltip;if(f.content)V=f.content}if(t.isFunction(t.uniqueSort)){b=t.uniqueSort(b)}else{b=t.unique(b)}_.push("<td class=\""+b.join(" ")+"\""+(m?" title=\""+m+"\"":"")+" data-date=\""+v.getTime().toString()+"\">"+V+"</td>");m=null;if(C===this.o.weekEnd){_.push("</tr>")}v.setUTCDate(v.getUTCDate()+1)}this.picker.find(".datepicker2-days tbody").html(_.join(""));var F=D[this.o.language].monthsTitle||D.en.monthsTitle||"Months",S=this.picker.find(".datepicker2-months").find(".datepicker2-switch").text(2>this.o.maxViewMode?F:s).end().find("tbody span").removeClass("active");t.each(this.dates,function(e,t){if(t.getUTCFullYear()===s)S.eq(t.getUTCMonth()).addClass("active")});if(s<n||s>l){S.addClass("disabled")}if(s===n){S.slice(0,d).addClass("disabled")}if(s===l){S.slice(r+1).addClass("disabled")}if(this.o.beforeShowMonth!==t.noop){var O=this;t.each(S,function(e,a){var o=new Date(s,e,1),i=O.o.beforeShowMonth(o);if(i===void 0)i={};else if("boolean"==typeof i)i={enabled:i};else if("string"==typeof i)i={classes:i};if(!1===i.enabled&&!t(a).hasClass("disabled"))t(a).addClass("disabled");if(i.classes)t(a).addClass(i.classes);if(i.tooltip)t(a).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker2-years","year",10,s,n,l,this.o.beforeShowYear);this._fill_yearsView(".datepicker2-decades","decade",100,s,n,l,this.o.beforeShowDecade);this._fill_yearsView(".datepicker2-centuries","century",1e3,s,n,l,this.o.beforeShowCentury)},updateNavArrows:function updateNavArrows(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),a=e.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,s=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,i=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,n=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d,l,r=1;switch(this.viewMode){case 4:r*=10;case 3:r*=10;case 2:r*=10;case 1:d=Math.floor(t/r)*r<=o;l=Math.floor(t/r)*r+r>i;break;case 0:d=t<=o&&a<=s;l=t>=i&&a>=n;break;}this.picker.find(".prev").toggleClass("disabled",d);this.picker.find(".next").toggleClass("disabled",l)},click:function click(o){o.preventDefault();o.stopPropagation();var s,i,n,d;s=t(o.target);if(s.hasClass("datepicker2-switch")&&this.viewMode!==this.o.maxViewMode){this.setViewMode(this.viewMode+1)}if(s.hasClass("today")&&!s.hasClass("day")){this.setViewMode(0);this._setDate(a(),"linked"===this.o.todayBtn?null:"view")}if(s.hasClass("clear")){this.clearDates()}if(!s.hasClass("disabled")){if(s.hasClass("month")||s.hasClass("year")||s.hasClass("decade")||s.hasClass("century")){this.viewDate.setUTCDate(1);i=1;if(1===this.viewMode){d=s.parent().find("span").index(s);n=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(d)}else{d=0;n=+s.text();this.viewDate.setUTCFullYear(n)}this._trigger(y.viewModes[this.viewMode-1].e,this.viewDate);if(this.viewMode===this.o.minViewMode){this._setDate(e(n,d,i))}else{this.setViewMode(this.viewMode-1);this.fill()}}}if(this.picker.is(":visible")&&this._focused_from){this._focused_from.focus()}delete this._focused_from},dayCellClick:function dayCellClick(a){var e=t(a.currentTarget),o=e.data("date"),s=new Date(o);if(this.o.updateViewDate){if(s.getUTCFullYear()!==this.viewDate.getUTCFullYear()){this._trigger("changeYear",this.viewDate)}if(s.getUTCMonth()!==this.viewDate.getUTCMonth()){this._trigger("changeMonth",this.viewDate)}}this._setDate(s)},navArrowsClick:function navArrowsClick(a){var e=t(a.currentTarget),o=e.hasClass("prev")?-1:1;if(0!==this.viewMode){o*=12*y.viewModes[this.viewMode].navStep}this.viewDate=this.moveMonth(this.viewDate,o);this._trigger(y.viewModes[this.viewMode].e,this.viewDate);this.fill()},_toggle_multidate:function _toggle_multidate(e){var t=this.dates.contains(e);if(!e){this.dates.clear()}if(-1!==t){if(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive){this.dates.remove(t)}}else if(!1===this.o.multidate){this.dates.clear();this.dates.push(e)}else{this.dates.push(e)}if("number"==typeof this.o.multidate)while(this.dates.length>this.o.multidate){this.dates.remove(0)}},_setDate:function _setDate(e,t){if(!t||"date"===t)this._toggle_multidate(e&&new Date(e));if(!t&&this.o.updateViewDate||"view"===t)this.viewDate=e&&new Date(e);this.fill();this.setValue();if(!t||"view"!==t){this._trigger("changeDate")}this.inputField.trigger("change");if(this.o.autoclose&&(!t||"date"===t)){this.hide()}},moveDay:function moveDay(e,t){var a=new Date(e);a.setUTCDate(e.getUTCDate()+t);return a},moveWeek:function moveWeek(e,t){return this.moveDay(e,7*t)},moveMonth:function moveMonth(e,t){if(!n(e))return this.o.defaultViewDate;if(!t)return e;var a=new Date(e.valueOf()),o=a.getUTCDate(),s=a.getUTCMonth(),d=Math.abs(t),l,r;t=0<t?1:-1;if(1===d){r=-1===t?function(){return a.getUTCMonth()===s}:function(){return a.getUTCMonth()!==l};l=s+t;a.setUTCMonth(l);l=(l+12)%12}else{for(var p=0;p<d;p++){a=this.moveMonth(a,t)}l=a.getUTCMonth();a.setUTCDate(o);r=function(){return l!==a.getUTCMonth()}}while(r()){a.setUTCDate(--o);a.setUTCMonth(l)}return a},moveYear:function moveYear(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function moveAvailableDate(e,t,a){do{e=this[a](e,t);if(!this.dateWithinRange(e))return!1;a="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function weekOfDateIsDisabled(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function dateIsDisabled(e){return this.weekOfDateIsDisabled(e)||0<t.grep(this.o.datesDisabled,function(t){return o(e,t)}).length},dateWithinRange:function dateWithinRange(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function keydown(t){if(!this.picker.is(":visible")){if(40===t.keyCode||27===t.keyCode){this.show();t.stopPropagation()}return}var e=!1,a,o,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else this.hide();t.preventDefault();t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;a=37===t.keyCode||38===t.keyCode?-1:1;if(0===this.viewMode){if(t.ctrlKey){o=this.moveAvailableDate(s,a,"moveYear");if(o)this._trigger("changeYear",this.viewDate)}else if(t.shiftKey){o=this.moveAvailableDate(s,a,"moveMonth");if(o)this._trigger("changeMonth",this.viewDate)}else if(37===t.keyCode||39===t.keyCode){o=this.moveAvailableDate(s,a,"moveDay")}else if(!this.weekOfDateIsDisabled(s)){o=this.moveAvailableDate(s,a,"moveWeek")}}else if(1===this.viewMode){if(38===t.keyCode||40===t.keyCode){a=4*a}o=this.moveAvailableDate(s,a,"moveMonth")}else if(2===this.viewMode){if(38===t.keyCode||40===t.keyCode){a=4*a}o=this.moveAvailableDate(s,a,"moveYear")}if(o){this.focusDate=this.viewDate=o;this.setValue();this.fill();t.preventDefault()}break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate;if(this.o.keyboardNavigation){this._toggle_multidate(s);e=!0}this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){t.preventDefault();t.stopPropagation();if(this.o.autoclose)this.hide()}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break;}if(e){if(this.dates.length)this._trigger("changeDate");else this._trigger("clearDate");this.inputField.trigger("change")}},setViewMode:function setViewMode(e){this.viewMode=e;this.picker.children("div").hide().filter(".datepicker2-"+y.viewModes[this.viewMode].clsName).show();this.updateNavArrows();this._trigger("changeViewMode",new Date(this.viewDate))}};var c=function(e,a){t.data(e,"datepicker2",this);this.element=t(e);this.inputs=t.map(a.inputs,function(e){return e.jquery?e[0]:e});delete a.inputs;this.keepEmptyValues=a.keepEmptyValues;delete a.keepEmptyValues;u.call(t(this.inputs),a).on("changeDate",t.proxy(this.dateUpdated,this));this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker2")});this.updateDates()};c.prototype={updateDates:function updateDates(){this.dates=t.map(this.pickers,function(e){return e.getUTCDate()});this.updateRanges()},updateRanges:function updateRanges(){var e=t.map(this.dates,function(e){return e.valueOf()});t.each(this.pickers,function(t,a){a.setRange(e)})},clearDates:function clearDates(){t.each(this.pickers,function(e,t){t.clearDates()})},dateUpdated:function dateUpdated(a){if(this.updating)return;this.updating=!0;var e=t.data(a.target,"datepicker2");if(e===void 0){return}var o=e.getUTCDate(),s=this.keepEmptyValues,n=t.inArray(a.target,this.inputs),i=n-1,d=n+1,r=this.inputs.length;if(-1===n)return;t.each(this.pickers,function(t,a){if(!a.getUTCDate()&&(a===e||!s))a.setUTCDate(o)});if(o<this.dates[i]){while(0<=i&&o<this.dates[i]){this.pickers[i--].setUTCDate(o)}}else if(o>this.dates[d]){while(d<r&&o>this.dates[d]){this.pickers[d++].setUTCDate(o)}}this.updateDates();delete this.updating},destroy:function destroy(){t.map(this.pickers,function(e){e.destroy()});t(this.inputs).off("changeDate",this.dateUpdated);delete this.element.data().datepicker2},remove:s("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};function d(e,a){var s=t(e).data(),i={},n,d=new RegExp("^"+a.toLowerCase()+"([A-Z])");a=new RegExp("^"+a.toLowerCase());function o(e,t){return t.toLowerCase()}for(var l in s){if(a.test(l)){n=l.replace(d,o);i[n]=s[l]}}return i}function l(e){var a={};if(!D[e]){e=e.split("-")[0];if(!D[e])return}var o=D[e];t.each(m,function(e,t){if(t in o)a[t]=o[t]});return a}var g=t.fn.datepicker2,u=function(e){var a=Array.apply(null,arguments);a.shift();var o;this.each(function(){var s=t(this),i=s.data("datepicker2"),n="object"===_typeof(e)&&e;if(!i){var r=d(this,"date"),g=t.extend({},h,r,n),u=l(g.language),m=t.extend({},h,u,r,n);if(s.hasClass("input-daterange")||m.inputs){t.extend(m,{inputs:m.inputs||s.find("input").toArray()});i=new c(this,m)}else{i=new p(this,m)}s.data("datepicker2",i)}if("string"==typeof e&&"function"==typeof i[e]){o=i[e].apply(i,a)}});if(o===void 0||o instanceof p||o instanceof c)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+e+" function)");else return o};t.fn.datepicker2=u;var h=t.fn.datepicker2.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},m=t.fn.datepicker2.locale_opts=["format","rtl","weekStart"];t.fn.datepicker2.Constructor=p;var D=t.fn.datepicker2.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},y={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function parseFormat(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),a=e.match(this.validParts);if(!t||!t.length||!a||0===a.length){throw new Error("Invalid date format.")}return{separators:t,parts:a}},parseDate:function parseDate(e,o,n,l){if(!e)return void 0;if(e instanceof Date)return e;if("string"==typeof o)o=y.parseFormat(o);if(o.toValue)return o.toValue(e,o,n);var g={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},u={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},h,m,f,v,d;if(e in u){e=u[e]}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(e)){h=e.match(/([\-+]\d+)([dmwy])/gi);e=new Date;for(v=0;v<h.length;v++){m=h[v].match(/([\-+]\d+)([dmwy])/i);f=+m[1];d=g[m[2].toLowerCase()];e=p.prototype[d](e,f)}return p.prototype._zero_utc_time(e)}h=e&&e.match(this.nonpunctuation)||[];function r(e,t){if(!0===t)t=10;if(100>e){e+=2e3;if(e>new Date().getFullYear()+t){e-=100}}return e}var w={},k=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function yyyy(e,t){return e.setUTCFullYear(l?r(t,l):t)},m:function m(e,t){if(isNaN(e))return e;t-=1;while(0>t){t+=12}t%=12;e.setUTCMonth(t);while(e.getUTCMonth()!==t){e.setUTCDate(e.getUTCDate()-1)}return e},d:function d(e,t){return e.setUTCDate(t)}},C,b;_.yy=_.yyyy;_.M=_.MM=_.mm=_.m;_.dd=_.d;e=a();var T=o.parts.slice();if(h.length!==T.length){T=t(T).filter(function(e,a){return-1!==t.inArray(a,k)}).toArray()}function c(){var e=this.slice(0,h[v].length),t=h[v].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(h.length===T.length){var M;for(v=0,M=T.length;v<M;v++){C=parseInt(h[v],10);m=T[v];if(isNaN(C)){switch(m){case"MM":b=t(D[n].months).filter(c);C=t.inArray(b[0],D[n].months)+1;break;case"M":b=t(D[n].monthsShort).filter(c);C=t.inArray(b[0],D[n].monthsShort)+1;break;}}w[m]=C}var U,x;for(v=0;v<k.length;v++){x=k[v];if(x in w&&!isNaN(w[x])){U=new Date(e);_[x](U,w[x]);if(!isNaN(U))e=U}}}return e},formatDate:function formatDate(e,a,o){if(!e)return"";if("string"==typeof a)a=y.parseFormat(a);if(a.toDisplay)return a.toDisplay(e,a,o);var s={d:e.getUTCDate(),D:D[o].daysShort[e.getUTCDay()],DD:D[o].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:D[o].monthsShort[e.getUTCMonth()],MM:D[o].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(10>s.d?"0":"")+s.d;s.mm=(10>s.m?"0":"")+s.m;e=[];for(var n=t.extend([],a.separators),d=0,l=a.parts.length;d<=l;d++){if(n.length)e.push(n.shift());e.push(s[a.parts[d]])}return e.join("")},headTemplate:"<thead><tr><th colspan=\"7\" class=\"datepicker2-title\"></th></tr><tr><th class=\"prev\">"+h.templates.leftArrow+"</th><th colspan=\"5\" class=\"datepicker2-switch\"></th><th class=\"next\">"+h.templates.rightArrow+"</th></tr></thead>",contTemplate:"<tbody><tr><td colspan=\"7\"></td></tr></tbody>",footTemplate:"<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr><tr><th colspan=\"7\" class=\"clear\"></th></tr></tfoot>"};y.template="<div class=\"datepicker2\"><div class=\"datepicker2-days\"><table class=\"table-condensed\">"+y.headTemplate+"<tbody></tbody>"+y.footTemplate+"</table></div><div class=\"datepicker2-months\"><table class=\"table-condensed\">"+y.headTemplate+y.contTemplate+y.footTemplate+"</table></div><div class=\"datepicker2-years\"><table class=\"table-condensed\">"+y.headTemplate+y.contTemplate+y.footTemplate+"</table></div><div class=\"datepicker2-decades\"><table class=\"table-condensed\">"+y.headTemplate+y.contTemplate+y.footTemplate+"</table></div><div class=\"datepicker2-centuries\"><table class=\"table-condensed\">"+y.headTemplate+y.contTemplate+y.footTemplate+"</table></div></div>";t.fn.datepicker2.DPGlobal=y;t.fn.datepicker2.noConflict=function(){t.fn.datepicker2=g;return this};t.fn.datepicker2.version="1.9.0";t.fn.datepicker2.deprecated=function(e){var t=window.console;if(t&&t.warn){t.warn("DEPRECATED: "+e)}};t(document).on("focus.datepicker2.data-api click.datepicker2.data-api","[data-provide=\"datepicker2\"]",function(a){var e=t(this);if(e.data("datepicker2"))return;a.preventDefault();u.call(e,"show")});t(function(){u.call(t("[data-provide=\"datepicker2-inline\"]"))})});
//# sourceMappingURL=datepicker.min.js.map
